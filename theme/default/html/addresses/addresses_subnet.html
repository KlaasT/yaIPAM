<div class="content-wrapper">
    <section class="content-header">
        <div class="row">
            <div class="col-md-12">
                <h1>{t}Addressspace Management{/t}</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-md-10">
                <ol class="breadcrumb">
                    <li><a href="{"/addresses/"|url}">{$D_Breadcrumbs.vrf.VRFName}</a></li>
                    {foreach item=subs from=$D_Breadcrumbs.Prefixes}
                    <li><a href="{"/addresses/subnet/{$subs.PrefixID}/"|url}">{$subs.Prefix}/{$subs.PrefixLength}</a></li>
                    {/foreach}
                </ol>
            </div>
            <div class="col-md-2">
                {"addresses/address/{$D_PrefixID}/add/"|createlink:"+ {t}Address{/t}":"btn btn-success":true}
                {"addresses/subnet/{$D_PrefixID}/add/"|createlink:"+ {t}Prefix{/t}":"btn btn-success":true}
            </div>
        </div>
   </section>
   <section class="content">
       <div class="row">
           <div class="col-md-12">
               {if isset($S_MESSAGE)}
               {include file=$S_MESSAGE_FILE}
               {/if}
               <h3>{$D_Prefix}/{$D_PrefixLength} ({$D_PrefixDescription})</h3>
               {if !empty($D_Subnets)}
               <table class="table table-bordered table-striped table-hover" id="subnetlist">
                <thead>
                <tr>
                    <th colspan="3"><strong>{t}Allocated Blocks{/t}</strong></th>
                </tr>
                <tr>
                    <th>{t}Prefix{/t}</th>
                    <th>{t}Description{/t}</th>
                    <th>{t}VLAN{/t}</th>
                </tr>
                </thead>
                   <tbody>
                   {foreach item=$subnet from=$D_Subnets}
                   <tr>
                       <td><a href="{"/addresses/subnet/{$subnet.PrefixID}"|url}">{if $subnet.AFI==4}{$subnet.Prefix|long2ip}{else}{$subnet.Prefix|long2ip6}{/if}/{$subnet.PrefixLength}</a></td>
                       <td>{$subnet.PrefixDescription}</td>
                       <td>{if !empty($subnet.VLANID)}{$subnet.VlanID} - {$subnet.VlanName} ({$subnet.domain_name}){/if}</td>
                   </tr>
                   {foreachelse}
                   <tr>
                       <td colspan="3" style="text-align:center;">--- {t}No subnets to list.{/t} ---</td>
                   </tr>
                   {/foreach}
               </table>
               {/if}
               {if !empty($D_Addresses)}
               <table class="table table-bordered table-striped table-hover" id="addresslist">
                   <thead>
                   <tr>
                       <th colspan="3"><strong>{t}Assigned Addresses{/t}</strong></th>
                   </tr>
                   <tr>
                       <th>{t}Address{/t}</th>
                       <th>{t}State{/t}</th>
                       <th>{t}Name{/t}</th>
                       <th>{t}FQDN{/t}</th>
                       <th>{t}MAC{/t}</th>
                       <th>{t}TT{/t}</th>
                   </tr>
                   </thead>
                   <tbody>
                   {foreach item=$address from=$D_Addresses}
                   <tr>
                       <td><a href="{"/addresses/address/{$D_PrefixID}/{$address.AddressID}/edit/"|url}">{if $address.AddressAFI==4}{$address.Address|long2ip}{else}{$address.Address|long2ip6}{/if}</a></td>
                       <td>{$address.AddressState|state2Text}</td>
                       <td>{$address.AddressName}</td>
                       <td>{$address.AddressFQDN}</td>
                       <td>{$address.AddressMAC}</td>
                       <td>{$address.AddressTT}</td>
                   </tr>
                   {foreachelse}
                   <tr>
                       <td colspan="3" style="text-align:center;">--- {t}No addresses to list.{/t} ---</td>
                   </tr>
                   {/foreach}
               </table>
               {/if}
               <table class="table table-bordered table-striped table-hover">
                   <thead>
                   <th colspan="2"><h3>{$D_Prefix}/{$D_PrefixLength} - Info</h3></th>
                   </thead>
                   <tbody>
                   <tr>
                       <td style="width: 10%;"><strong>{t}CIDR{/t}</strong></td>
                       <td>{$D_PrefixLength}</td>
                   </tr>
                   <tr>
                       <td><strong>{t}Networkmask{/t}</strong></td>
                       <td>{$D_NetworkMask}</td>
                   </tr>
                   <tr>
                       <td><strong>{t}Wildcard{/t}</strong></td>
                       <td>{$D_Network_Wildcard}</td>
                   </tr>
                   <tr>
                       <td><strong>{t}Broadcast address{/t}</strong></td>
                       <td>{$D_Broadcast_Address}</td>
                   </tr>
                   <tr>
                       <td><strong>{t}Network range{/t}</strong></td>
                       <td>{$D_RangeFrom} - {$D_RangeTo}</td>
                   </tr>
                   <tr>
                       <td><strong>{t}Number of addresses{/t}</strong></td>
                       <td>{$D_NetworkNumber_Addresses}</td>
                   </tr>
                   <tr>
                       <td><strong>{t}VLAN{/t}</strong></td>
                       <td>{$D_PrefixVLAN}</td>
                   </tr>
                   </tbody>
               </table>
               {"addresses/subnet/{$D_PrefixID}/edit/"|createlink:"{t}Edit{/t}":"btn btn-info":true}&nbsp;{"addresses/subnet/{$D_PrefixID}/delete/"|createlink:"{t}Delete{/t}":"btn btn-danger":true}
           </div>
       </div>
   </section>
</div>
{if !empty($D_Subnets)}
<script>
    $(document).ready(function() {
        $('#subnetlist').DataTable({
            "ordering": true,
        });
    } );
</script>
{/if}